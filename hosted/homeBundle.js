(()=>{let e,t,s,a,c;window.onload=()=>{l(),a=document.querySelector("#title"),t=document.querySelector("#playLink"),s=document.querySelector("#challengesLink"),c=!0,e=document.querySelector("#toggleThemeButton"),e.addEventListener("click",(()=>{o([t,s],a,!0)}))};const o=(t,s)=>{if(c){document.body.classList.replace("darkThemeBody","lightThemeBody");for(const e of t)e.classList.replace("darkThemeLink","lightThemeLink");a.classList.replace("darkThemeTitle","lightThemeTitle"),e.classList.replace("darkThemeIconButton","lightThemeIconButton"),e.src="/assets/images/lightBulbLightTheme.png"}else{document.body.classList.replace("lightThemeBody","darkThemeBody");for(const e of t)e.classList.replace("lightThemeLink","darkThemeLink");a.classList.replace("lightThemeTitle","darkThemeTitle"),e.classList.replace("lightThemeIconButton","darkThemeIconButton"),e.src="/assets/images/lightBulbDarkTheme.png"}c=!c,s&&n(c?"dark":"light")},l=async()=>{const e=await fetch("getUser");"light"===(await e.json()).theme&&o([t,s],a,!1)},n=async e=>{const t=`theme=${e}`,s=await fetch("/setUserPrefs",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:t});i(s)},i=async e=>{let t="";switch(e.status){case 200:t+="success";break;case 201:t+="user added";break;case 204:t+="user updated";break;case 400:t+="bad request";break;case 404:t+="not found";break;default:t+="response cot not implemented by the server"}const s=await e.text();if(s){const e=JSON.parse(s);t+=e.message?`\n${e.message}`:"",t+=e.id?`\n${e.id}`:""}console.log(t)}})();