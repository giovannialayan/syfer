(()=>{let e,t,s,o,a,n,c,r;window.onload=()=>{h(),u(),e=document.querySelector("#statusOutput"),t=document.querySelector("#wordList"),c=document.querySelector("#passwordInput"),s=document.querySelector("#wordInput"),o=document.querySelector("#submitWord"),o.addEventListener("click",(()=>{l(s.value)})),a=document.querySelector("#gotoHomeInput"),r=!0,n=document.querySelector("#toggleThemeButton"),n.addEventListener("click",(()=>{m([a,o],t,[s,c],[e],!0)}))};const l=async e=>{const t=`word=${e}&password=${c.value}`,s=await fetch("/addWord",{method:"POST",headers:{"Content-Type":"application/x-ww-form-urlencoded",Accept:"application/json"},body:t});d(s)},d=async t=>{switch(t.status){case 200:e.textContent="success";break;case 201:e.textContent="your word was added";break;case 400:e.textContent="bad request";break;case 404:e.textContent="not found";break;default:e.textContent="response code not implemented by client"}const s=await t.text(),o=JSON.parse(s);console.log(o),o.message&&(e.innerHTML+=`<p>${o.message}</p>`),o.words&&i(o.words)},i=e=>{t.innerHTML="";for(const s of e)t.appendChild(document.createElement("p")),t.lastChild.textContent=s,t.lastChild.classList.add(r?"darkThemeElement":"lightThemeElement")},h=async()=>{const e=await fetch("words"),t=(await e.json()).words;i(t)},m=(e,t,s,o,a)=>{if(r){document.body.classList.replace("darkThemeBody","lightThemeBody");for(const t of e)t.classList.replace("darkThemeButton","lightThemeButton");for(const e of t.children)e.classList.replace("darkThemeElement","lightThemeElement");for(const e of o)e.classList.replace("darkThemeText","lightThemeText");for(const e of s)e.classList.replace("darkThemeTextInput","lightThemeTextInput");n.classList.replace("darkThemeIconButton","lightThemeIconButton"),n.src="images/lightBulbLightTheme.png"}else{document.body.classList.replace("lightThemeBody","darkThemeBody");for(const t of e)t.classList.replace("lightThemeButton","darkThemeButton");for(const e of t.children)e.classList.replace("lightThemeElement","darkThemeElement");for(const e of o)e.classList.replace("lightThemeText","darkThemeText");for(const e of s)e.classList.replace("lightThemeTextInput","darkThemeTextInput");n.classList.replace("lightThemeIconButton","darkThemeIconButton"),n.src="images/lightBulbDarkTheme.png"}r=!r,a&&p(r?"dark":"light")},u=async()=>{const n=await fetch("getUser");"light"===(await n.json()).theme&&m([a,o],t,s,[e],!1)},p=async e=>{const t=`theme=${e}`,s=await fetch("/setUserPrefs",{method:"POST",headers:{"Content-Type":"application/x-ww-form-urlencoded",Accept:"application/json"},body:t});T(s)},T=async e=>{let t="";switch(e.status){case 200:t+="success";break;case 201:t+="user added";break;case 204:t+="user updated";break;case 400:t+="bad request";break;case 404:t+="not found";break;default:t+="response cot not implemented by the server"}const s=await e.text();if(s){const e=JSON.parse(s);t+=e.message?`/n${e.message}`:"",t+=e.id?`/n${e.id}`:""}console.log(t)}})();